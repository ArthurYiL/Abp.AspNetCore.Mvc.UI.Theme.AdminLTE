@page
@using Volo.Abp.UI.Navigation.Localization.Resource;
@using Microsoft.AspNetCore.Authorization
@using Microsoft.AspNetCore.Mvc.Localization
@using Volo.Abp.AspNetCore.Mvc.UI.Layout
@using Volo.Abp.TenantManagement
@using Volo.Abp.TenantManagement.Localization
@using Volo.Abp.TenantManagement.Web.Navigation
@using Volo.Abp.TenantManagement.Web.Pages.TenantManagement.Tenants
@model Volo.Abp.AspNetCore.Mvc.UI.Theme.AdminLTE.Pages.TenantManagement.Tenants.IndexModel
@inject IHtmlLocalizer<AbpTenantManagementResource> L
@inject IHtmlLocalizer<AbpUiNavigationResource> N
@inject IAuthorizationService Authorization
@inject IPageLayout PageLayout
@{
    PageLayout.Content.Title = L["Tenants"].Value;
    PageLayout.Content.BreadCrumb.Add(L["Menu:TenantManagement"].Value);
    PageLayout.Content.MenuItemName = TenantManagementMenuNames.Tenants;
}
@section styles {
<style type="text/css">
    div.table-responsive>div.dataTables_wrapper>div.row {
        margin:0;
    }
    div.dataTables_wrapper div.dataTables_length select {
        width: 75px;
        display: inline-block;
    }

    div.dataTables_wrapper div.dataTables_length label {
        font-weight: normal;
        text-align: left;
        white-space: nowrap;
    }

    div.dataTables_wrapper div.dataTables_info {
        padding-top: 8px;
        white-space: nowrap;
    }

    div.dataTables_wrapper div.dataTables_paginate {
        margin: 0;
        white-space: nowrap;
        text-align: right;
    }

    .pagination {
        margin: 2px 0;
        white-space: nowrap;
    }
</style>
}
@section scripts {
<abp-script-bundle name="@typeof(IndexModel).FullName">
    <abp-script src="/Pages/FeatureManagement/feature-management-modal.js" />
    <abp-script src="/Pages/TenantManagement/Tenants/ConnectionStringsModal.js" />
    <abp-script src="/Pages/TenantManagement/Tenants/Index.js" />
</abp-script-bundle>
}

<section class="content-header">
    <h1>
        @L["Tenants"]
    </h1>
    <ol class="breadcrumb">
        <li><a href="~/"><i class="fa fa-dashboard"></i> @L["Home"]</a></li>
        <li>@N["Menu:Administration"]</li>
        <li>@L["Menu:TenantManagement"]</li>
        <li class="active">@L["Tenants"]</li>
    </ol>
</section>
<section class="content">
    <div id="TenantsWrapper" class="box">
        <div class="box-header">
            <h3 class="box-title">
                @if (await Authorization.IsGrantedAsync(TenantManagementPermissions.Tenants.Create))
                {
                    <abp-button button-type="Primary" name="CreateTenant" icon="plus" text="@L["NewTenant"].Value" class="btn-xs" />
                }
            </h3>

            <div class="box-tools">
                <div class="input-group input-group-sm hidden-xs" style="width: 150px;">
                    <input type="text" name="table_search" class="form-control pull-right" placeholder="Search">

                    <div class="input-group-btn">
                        <button id="tableSearch" type="submit" class="btn btn-default"><i class="fa fa-search"></i></button>
                    </div>
                </div>
            </div>
        </div>
        <!-- /.box-header -->
        <div class="box-body table-responsive no-padding" style="padding:0 10px !important;">
            <abp-table striped-rows="true" class="table table-bordered table-striped" style="margin-bottom: 6px !important;">
                <thead>
                    <tr>
                        <th>@L["Actions"]</th>
                        <th>@L["TenantName"]</th>
                    </tr>
                </thead>
            </abp-table>
        </div>
        <!-- /.box-body -->
    </div>
</section>